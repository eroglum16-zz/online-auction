{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mert/Desktop/I\\u0307TU\\u0308/Fall 2019/Bitirme/Project/pages/a/[id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../../components/AppLayout';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText, Badge, Alert, Fade } from 'reactstrap';\nimport { Carousel, CarouselItem, CarouselControl, CarouselIndicators, CarouselCaption } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLiraSign, faUser, faMoneyBill, faUsers, faThumbsUp, faCalendarAlt, faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons';\nimport Link from \"next/link\";\nimport axios from \"axios\";\nimport { getToken } from '../../utils/auth';\nimport Router from 'next/router';\nimport Countdown from 'react-countdown-now';\n\nvar apiConfig = require('../../api-config');\n\nvar defaults = require('../../utils/defaults');\n\nimport socketIOClient from 'socket.io-client';\nvar socket = socketIOClient(apiConfig.serverUrl);\n\nvar AuctionDetail =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AuctionDetail, _React$Component);\n\n  function AuctionDetail(props) {\n    var _this;\n\n    _classCallCheck(this, AuctionDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AuctionDetail).call(this, props));\n    var token = _this.props.token;\n\n    _this.getUser(token);\n\n    _this.state = {\n      loggedIn: token ? true : false,\n      user: {},\n      bid: \"\",\n      activeIndex: 0,\n      animating: false,\n      sale: defaults.defaultSale,\n      maxBid: {\n        amount: null,\n        bidder: \"\"\n      },\n      biddingFade: {\n        message: \"\",\n        \"in\": false\n      }\n    };\n    _this.handleNewBid = _this.handleNewBid.bind(_assertThisInitialized(_this));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    _this.getSale = _this.getSale.bind(_assertThisInitialized(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(AuctionDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var saleId = this.props.id;\n      this.getSale(saleId);\n      this.setState({\n        bid: \"\"\n      });\n      socket.on('bid update', function (msg) {\n        if (msg.saleId === saleId) {\n          _this2.getSale(saleId);\n        }\n      });\n    }\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      var target = event.target;\n      var value = target.value;\n      var name = target.name;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      console.log(event.key);\n\n      if (event.key === 'Enter') {\n        this.handleNewBid();\n        this.getSale(this.state.sale._id);\n      }\n    }\n  }, {\n    key: \"handleNewBid\",\n    value: function handleNewBid() {\n      console.log(this.state.bid);\n\n      if (this.state.bid === \"\") {\n        this.showFade(\"Önce teklifinizi girin.\");\n        return;\n      }\n\n      if (this.state.bid < this.state.sale.firstPrice) {\n        this.showFade(\"Başlangıç fiyatından düşük teklif veremezsiniz. (\" + this.state.sale.firstPrice + \"₺)\");\n        this.setState({\n          bid: \"\"\n        });\n        return;\n      }\n\n      if (this.state.bid < this.state.maxBid.amount) {\n        this.showFade(\"En yüksek tekliften düşük teklif veremezsiniz. (\" + this.state.maxBid.amount + \"₺)\");\n        return;\n      }\n\n      if (this.state.bid == this.state.maxBid.amount) {\n        this.showFade(this.state.bid + \"₺ en yüksek teklif, aynı teklifi vermezsiniz.\");\n        return;\n      }\n\n      socket.emit('new bid', {\n        saleId: this.state.sale._id,\n        bid: {\n          amount: _parseInt(this.state.bid),\n          bidder: this.state.user.email\n        }\n      });\n    }\n  }, {\n    key: \"showFade\",\n    value: function showFade(message) {\n      var _this3 = this;\n\n      this.setState({\n        biddingFade: {\n          message: message,\n          \"in\": true\n        }\n      });\n      setInterval(function () {\n        _this3.setState({\n          biddingFade: {\n            message: \"\",\n            \"in\": false\n          }\n        });\n      }, 60000);\n    }\n  }, {\n    key: \"getUser\",\n    value: function getUser(token) {\n      var _this4 = this;\n\n      var url = apiConfig.serverUrl + '/user/get';\n      axios.post(url, {}, {\n        headers: {\n          authorization: token\n        }\n      }).then(function (response) {\n        _this4.setState({\n          user: response.data.user\n        });\n      })[\"catch\"](function (error) {\n        console.log(error);\n      }.bind(this));\n    }\n  }, {\n    key: \"getSale\",\n    value: function getSale(id) {\n      var _this5 = this;\n\n      var url = apiConfig.serverUrl + '/sale/' + id;\n      axios.get(url).then(function (response) {\n        var maxBid = response.data.sale.bids.reduce(function (a, b) {\n          return a.amount > b.amount ? a : b;\n        });\n\n        _this5.setState({\n          sale: response.data.sale,\n          maxBid: maxBid\n        });\n      })[\"catch\"](function (error) {\n        console.log(error); //if(!error.response) Router.push('/index');\n        //if(error.response.status === 404) Router.push('/index');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var loggedIn = this.state.loggedIn;\n      var userEmail = this.state.user ? this.state.user.email : \"\";\n      var images = this.state.sale.images;\n      var items = [];\n      var i;\n\n      for (i in images) {\n        items.push({\n          src: apiConfig.serverUrl + '/images/products/' + images[i],\n          altText: this.state.sale.title,\n          caption: this.state.sale.title\n        });\n      }\n\n      var next = function next() {\n        if (_this6.state.animating) return;\n        var nextIndex = _this6.state.activeIndex === items.length - 1 ? 0 : _this6.state.activeIndex + 1;\n\n        _this6.setState({\n          activeIndex: nextIndex\n        });\n      };\n\n      var previous = function previous() {\n        if (_this6.state.animating) return;\n        var nextIndex = _this6.state.activeIndex === 0 ? items.length - 1 : _this6.state.activeIndex - 1;\n\n        _this6.setState({\n          activeIndex: nextIndex\n        });\n      };\n\n      var goToIndex = function goToIndex(newIndex) {\n        if (_this6.state.animating) return;\n\n        _this6.setState({\n          activeIndex: newIndex\n        });\n      };\n\n      var slides = items.map(function (item) {\n        return __jsx(CarouselItem, {\n          className: \"text-center\",\n          onExiting: function onExiting() {\n            return _this6.setState({\n              animating: true\n            });\n          },\n          onExited: function onExited() {\n            return _this6.setState({\n              animating: false\n            });\n          },\n          key: item.src,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, __jsx(\"img\", {\n          style: {\n            maxHeight: '300px'\n          },\n          src: item.src,\n          alt: item.altText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }));\n      });\n      var date = new Date(this.state.sale.endDate);\n      var options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      };\n      var endDate = this.state.sale.endDate === 0 ? \"-\" : date.toLocaleDateString('tr-TR', options);\n      return __jsx(Layout, {\n        page: \"home\",\n        user: this.state.user,\n        loggedIn: this.state.loggedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"container bg-white\",\n        style: {\n          padding: '3%',\n          marginTop: '3%',\n          boxShadow: '0px 10px 5px 0px #ccc'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, __jsx(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \" \", this.state.sale.title, \" \", userEmail === this.state.sale.owner.email ? __jsx(Badge, {\n        className: \"ml-2\",\n        color: \"dark\",\n        pill: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Sizin ilan\\u0131n\\u0131z\") : \"\", __jsx(\"span\", {\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, __jsx(Countdown, {\n        date: this.state.sale.endDate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }))), __jsx(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }), __jsx(\"p\", {\n        style: {\n          fontFamily: 'verdana',\n          fontSize: '17px',\n          marginBottom: '50px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, this.state.sale.description), __jsx(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"col-md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, __jsx(Carousel, {\n        activeIndex: this.state.activeIndex,\n        next: next,\n        previous: previous,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, __jsx(CarouselIndicators, {\n        items: items,\n        activeIndex: this.state.activeIndex,\n        onClickHandler: goToIndex,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), slides, __jsx(CarouselControl, {\n        direction: \"prev\",\n        directionText: \"Previous\",\n        onClickHandler: previous,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), __jsx(CarouselControl, {\n        direction: \"next\",\n        directionText: \"Next\",\n        onClickHandler: next,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }))), __jsx(\"div\", {\n        className: \"col-md-4 pt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, __jsx(\"h4\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"En Y\\xFCksek Teklif\"), loggedIn ? this.state.sale.owner.email === this.state.user.email ? __jsx(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }) : \"\" : \"\", __jsx(\"p\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, __jsx(FontAwesomeIcon, {\n        icon: faLiraSign,\n        width: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }), \" \", this.state.maxBid.amount), !loggedIn ? __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, __jsx(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }), __jsx(\"h5\", {\n        className: \"text-center mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, \"Teklif Ver\"), __jsx(\"p\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"Teklif vermek i\\xE7in\", __jsx(Link, {\n        href: '/registration',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        className: \"text-dark underline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, \" kay\\u0131t olun\")), \" veya\", __jsx(Link, {\n        href: '/login',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        className: \"text-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \" giri\\u015F yap\\u0131n\")))) : this.state.maxBid.bidder === this.state.user.email ? __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, __jsx(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"\\u015Eu anda en y\\xFCksek teklif sizin teklifiniz.\")) : this.state.sale.owner.email === this.state.user.email ? \"\" : __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, __jsx(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"text-center justify-content-md-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, __jsx(\"h5\", {\n        className: \"text-center mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, \"Teklif Ver\"), __jsx(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, __jsx(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, __jsx(InputGroup, {\n        style: {\n          width: '60%',\n          marginLeft: '20%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, __jsx(InputGroupAddon, {\n        addonType: \"prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, __jsx(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, \"\\u20BA\")), __jsx(Input, {\n        className: \"text-center\",\n        bgSize: \"sm\",\n        type: \"number\",\n        form: \"nanana\",\n        name: \"bid\",\n        value: this.state.bid,\n        onChange: this.handleInputChange,\n        onKeyDown: this.handleKeyDown,\n        placeholder: \"Teklifiniz\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      })), __jsx(Fade, {\n        \"in\": this.state.biddingFade[\"in\"],\n        tag: \"p\",\n        className: \"mt-3 text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, this.state.biddingFade.message)), __jsx(Button, {\n        onClick: this.handleNewBid,\n        color: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"G\\xF6nder\")))))), __jsx(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        className: \"mb-4 mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, __jsx(FontAwesomeIcon, {\n        icon: faUser,\n        width: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }), \" \", __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, \"Sat\\u0131c\\u0131: \"), this.state.sale.owner.nameSurname), __jsx(\"p\", {\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, __jsx(FontAwesomeIcon, {\n        icon: faMoneyBill,\n        width: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }), \" \", __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, \"Ba\\u015Flang\\u0131\\xE7 Fiyat\\u0131: \"), this.state.sale.firstPrice, \"\\u20BA\")), __jsx(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        className: \"mb-4 mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, __jsx(FontAwesomeIcon, {\n        icon: faUsers,\n        width: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }), \" \", __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, \"Teklif say\\u0131s\\u0131: \"), this.state.sale.bids.length), __jsx(\"p\", {\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, __jsx(FontAwesomeIcon, {\n        icon: faThumbsUp,\n        width: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }), \" \", __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, \"Durum: \"), this.state.sale.state)), __jsx(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        className: \"mb-4 mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, __jsx(FontAwesomeIcon, {\n        icon: faCalendarAlt,\n        width: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }), \" \", __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, \"Kapan\\u0131\\u015F: \"), endDate), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, __jsx(FontAwesomeIcon, {\n        icon: faMapMarkerAlt,\n        width: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }), \" \", __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"Konum: \"), this.state.sale.city, \", \", this.state.sale.district)))));\n    }\n  }]);\n\n  return AuctionDetail;\n}(React.Component);\n\nAuctionDetail.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(context) {\n    var id, token;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            id = context.query.id;\n            token = getToken(context);\n            return _context.abrupt(\"return\", {\n              id: id,\n              token: token\n            });\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default AuctionDetail;","map":{"version":3,"sources":["/Users/mert/Desktop/İTÜ/Fall 2019/Bitirme/Project/pages/a/[id].js"],"names":["Layout","Button","Form","FormGroup","Input","InputGroup","InputGroupAddon","InputGroupText","Badge","Alert","Fade","Carousel","CarouselItem","CarouselControl","CarouselIndicators","CarouselCaption","FontAwesomeIcon","faLiraSign","faUser","faMoneyBill","faUsers","faThumbsUp","faCalendarAlt","faMapMarkerAlt","Link","axios","getToken","Router","Countdown","apiConfig","require","defaults","socketIOClient","socket","serverUrl","AuctionDetail","props","token","getUser","state","loggedIn","user","bid","activeIndex","animating","sale","defaultSale","maxBid","amount","bidder","biddingFade","message","handleNewBid","bind","handleInputChange","getSale","handleKeyDown","saleId","id","setState","on","msg","event","target","value","name","console","log","key","_id","showFade","firstPrice","emit","email","setInterval","url","post","headers","authorization","then","response","data","error","get","bids","reduce","a","b","userEmail","images","items","i","push","src","altText","title","caption","next","nextIndex","length","previous","goToIndex","newIndex","slides","map","item","maxHeight","date","Date","endDate","options","year","month","day","hour","minute","toLocaleDateString","padding","marginTop","boxShadow","owner","fontFamily","fontSize","marginBottom","description","width","marginLeft","nameSurname","city","district","React","Component","getInitialProps","context","query"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,4BAAnB;AACA,OAAO,sCAAP;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,UAAzC,EAAqDC,eAArD,EAAsEC,cAAtE,EAAsFC,KAAtF,EAA6FC,KAA7F,EAAoGC,IAApG,QAAgH,YAAhH;AACA,SAAQC,QAAR,EAAkBC,YAAlB,EAAgCC,eAAhC,EAAiDC,kBAAjD,EAAqEC,eAArE,QAA2F,YAA3F;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,WAA7B,EAA0CC,OAA1C,EAAmDC,UAAnD,EAA+DC,aAA/D,EAA8EC,cAA9E,QAAoG,mCAApG;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;;AAGA,IAAMC,SAAS,GAAGC,OAAO,CAAC,kBAAD,CAAzB;;AACA,IAAMC,QAAQ,GAAGD,OAAO,CAAC,sBAAD,CAAxB;;AAEA,OAAOE,cAAP,MAA2B,kBAA3B;AACA,IAAMC,MAAM,GAAGD,cAAc,CAACH,SAAS,CAACK,SAAX,CAA7B;;IAEMC,a;;;;;AACF,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,uFAAMA,KAAN;AACA,QAAIC,KAAK,GAAG,MAAKD,KAAL,CAAWC,KAAvB;;AACA,UAAKC,OAAL,CAAaD,KAAb;;AAEA,UAAKE,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAEH,KAAK,GAAG,IAAH,GAAU,KADhB;AAETI,MAAAA,IAAI,EAAE,EAFG;AAGTC,MAAAA,GAAG,EAAE,EAHI;AAITC,MAAAA,WAAW,EAAE,CAJJ;AAKTC,MAAAA,SAAS,EAAE,KALF;AAMTC,MAAAA,IAAI,EAAEd,QAAQ,CAACe,WANN;AAOTC,MAAAA,MAAM,EAAC;AACHC,QAAAA,MAAM,EAAE,IADL;AAEHC,QAAAA,MAAM,EAAE;AAFL,OAPE;AAWTC,MAAAA,WAAW,EAAE;AACTC,QAAAA,OAAO,EAAE,EADA;AAET,cAAI;AAFK;AAXJ,KAAb;AAgBA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AACA,UAAKC,iBAAL,GAA0B,MAAKA,iBAAL,CAAuBD,IAAvB,+BAA1B;AACA,UAAKE,OAAL,GAAe,MAAKA,OAAL,CAAaF,IAAb,+BAAf;AACA,UAAKG,aAAL,GAAqB,MAAKA,aAAL,CAAmBH,IAAnB,+BAArB;AAxBe;AAyBlB;;;;wCACkB;AAAA;;AACf,UAAMI,MAAM,GAAG,KAAKrB,KAAL,CAAWsB,EAA1B;AACA,WAAKH,OAAL,CAAaE,MAAb;AACA,WAAKE,QAAL,CAAc;AAACjB,QAAAA,GAAG,EAAE;AAAN,OAAd;AACAT,MAAAA,MAAM,CAAC2B,EAAP,CAAU,YAAV,EAAwB,UAACC,GAAD,EAAS;AAC7B,YAAGA,GAAG,CAACJ,MAAJ,KAAeA,MAAlB,EAAyB;AACrB,UAAA,MAAI,CAACF,OAAL,CAAaE,MAAb;AACH;AACJ,OAJD;AAKH;;;sCACiBK,K,EAAO;AACrB,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAMC,KAAK,GAAGD,MAAM,CAACC,KAArB;AACA,UAAMC,IAAI,GAAGF,MAAM,CAACE,IAApB;AAEA,WAAKN,QAAL,qBACKM,IADL,EACYD,KADZ;AAGH;;;kCACaF,K,EAAO;AACjBI,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACM,GAAlB;;AACA,UAAIN,KAAK,CAACM,GAAN,KAAc,OAAlB,EAA2B;AACvB,aAAKhB,YAAL;AACA,aAAKG,OAAL,CAAa,KAAKhB,KAAL,CAAWM,IAAX,CAAgBwB,GAA7B;AACH;AACJ;;;mCACa;AACVH,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAK5B,KAAL,CAAWG,GAAvB;;AACA,UAAI,KAAKH,KAAL,CAAWG,GAAX,KAAmB,EAAvB,EAA0B;AACtB,aAAK4B,QAAL,CAAc,yBAAd;AACA;AACH;;AACD,UAAI,KAAK/B,KAAL,CAAWG,GAAX,GAAiB,KAAKH,KAAL,CAAWM,IAAX,CAAgB0B,UAArC,EAAgD;AAC5C,aAAKD,QAAL,CAAc,sDAAsD,KAAK/B,KAAL,CAAWM,IAAX,CAAgB0B,UAAtE,GAAmF,IAAjG;AACA,aAAKZ,QAAL,CAAc;AACVjB,UAAAA,GAAG,EAAE;AADK,SAAd;AAGA;AACH;;AACD,UAAI,KAAKH,KAAL,CAAWG,GAAX,GAAiB,KAAKH,KAAL,CAAWQ,MAAX,CAAkBC,MAAvC,EAA8C;AAC1C,aAAKsB,QAAL,CAAc,qDAAqD,KAAK/B,KAAL,CAAWQ,MAAX,CAAkBC,MAAvE,GAAgF,IAA9F;AACA;AACH;;AACD,UAAI,KAAKT,KAAL,CAAWG,GAAX,IAAkB,KAAKH,KAAL,CAAWQ,MAAX,CAAkBC,MAAxC,EAA+C;AAC3C,aAAKsB,QAAL,CAAc,KAAK/B,KAAL,CAAWG,GAAX,GAAiB,+CAA/B;AACA;AACH;;AAEDT,MAAAA,MAAM,CAACuC,IAAP,CAAY,SAAZ,EAAuB;AACnBf,QAAAA,MAAM,EAAE,KAAKlB,KAAL,CAAWM,IAAX,CAAgBwB,GADL;AAEnB3B,QAAAA,GAAG,EAAE;AACDM,UAAAA,MAAM,EAAE,UAAS,KAAKT,KAAL,CAAWG,GAApB,CADP;AAEDO,UAAAA,MAAM,EAAE,KAAKV,KAAL,CAAWE,IAAX,CAAgBgC;AAFvB;AAFc,OAAvB;AAOH;;;6BACQtB,O,EAAQ;AAAA;;AAEb,WAAKQ,QAAL,CAAc;AAACT,QAAAA,WAAW,EAAE;AACpBC,UAAAA,OAAO,EAAEA,OADW;AAEpB,gBAAI;AAFgB;AAAd,OAAd;AAKAuB,MAAAA,WAAW,CAAC,YAAM;AACd,QAAA,MAAI,CAACf,QAAL,CAAc;AACVT,UAAAA,WAAW,EAAE;AACTC,YAAAA,OAAO,EAAC,EADC;AAET,kBAAG;AAFM;AADH,SAAd;AAMH,OAPU,EAOT,KAPS,CAAX;AASH;;;4BACOd,K,EAAM;AAAA;;AACV,UAAMsC,GAAG,GAAG9C,SAAS,CAACK,SAAV,GAAsB,WAAlC;AACAT,MAAAA,KAAK,CAACmD,IAAN,CAAWD,GAAX,EAAgB,EAAhB,EAAoB;AAChBE,QAAAA,OAAO,EAAC;AACJC,UAAAA,aAAa,EAAEzC;AADX;AADQ,OAApB,EAIK0C,IAJL,CAIU,UAACC,QAAD,EAAc;AAChB,QAAA,MAAI,CAACrB,QAAL,CAAc;AACVlB,UAAAA,IAAI,EAAEuC,QAAQ,CAACC,IAAT,CAAcxC;AADV,SAAd;AAGH,OARL,WASW,UAAUyC,KAAV,EAAiB;AACpBhB,QAAAA,OAAO,CAACC,GAAR,CAAYe,KAAZ;AACH,OAFM,CAEL7B,IAFK,CAEA,IAFA,CATX;AAYH;;;4BACOK,E,EAAG;AAAA;;AACP,UAAMiB,GAAG,GAAG9C,SAAS,CAACK,SAAV,GAAsB,QAAtB,GAAiCwB,EAA7C;AACAjC,MAAAA,KAAK,CAAC0D,GAAN,CAAUR,GAAV,EACKI,IADL,CACU,UAACC,QAAD,EAAc;AAChB,YAAIjC,MAAM,GAAGiC,QAAQ,CAACC,IAAT,CAAcpC,IAAd,CAAmBuC,IAAnB,CAAwBC,MAAxB,CAA+B,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAClD,iBAAOD,CAAC,CAACtC,MAAF,GAAWuC,CAAC,CAACvC,MAAb,GAAsBsC,CAAtB,GAA0BC,CAAjC;AACH,SAFY,CAAb;;AAGA,QAAA,MAAI,CAAC5B,QAAL,CAAc;AACVd,UAAAA,IAAI,EAAEmC,QAAQ,CAACC,IAAT,CAAcpC,IADV;AAEVE,UAAAA,MAAM,EAAEA;AAFE,SAAd;AAIH,OATL,WAUW,UAACmC,KAAD,EAAW;AACdhB,QAAAA,OAAO,CAACC,GAAR,CAAYe,KAAZ,EADc,CAEd;AACA;AACH,OAdL;AAeH;;;6BACQ;AAAA;;AACL,UAAI1C,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;AACA,UAAMgD,SAAS,GAAG,KAAKjD,KAAL,CAAWE,IAAX,GAAkB,KAAKF,KAAL,CAAWE,IAAX,CAAgBgC,KAAlC,GAA0C,EAA5D;AAEA,UAAMgB,MAAM,GAAG,KAAKlD,KAAL,CAAWM,IAAX,CAAgB4C,MAA/B;AACA,UAAMC,KAAK,GAAG,EAAd;AAEA,UAAIC,CAAJ;;AACA,WAAIA,CAAJ,IAASF,MAAT,EAAgB;AACZC,QAAAA,KAAK,CAACE,IAAN,CAAW;AACPC,UAAAA,GAAG,EAAEhE,SAAS,CAACK,SAAV,GAAsB,mBAAtB,GAA4CuD,MAAM,CAACE,CAAD,CADhD;AAEPG,UAAAA,OAAO,EAAE,KAAKvD,KAAL,CAAWM,IAAX,CAAgBkD,KAFlB;AAGPC,UAAAA,OAAO,EAAE,KAAKzD,KAAL,CAAWM,IAAX,CAAgBkD;AAHlB,SAAX;AAKH;;AAED,UAAME,IAAI,GAAG,SAAPA,IAAO,GAAM;AACf,YAAI,MAAI,CAAC1D,KAAL,CAAWK,SAAf,EAA0B;AAC1B,YAAMsD,SAAS,GAAG,MAAI,CAAC3D,KAAL,CAAWI,WAAX,KAA2B+C,KAAK,CAACS,MAAN,GAAe,CAA1C,GAA8C,CAA9C,GAAkD,MAAI,CAAC5D,KAAL,CAAWI,WAAX,GAAyB,CAA7F;;AACA,QAAA,MAAI,CAACgB,QAAL,CAAc;AACVhB,UAAAA,WAAW,EAAEuD;AADH,SAAd;AAGH,OAND;;AAQA,UAAME,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnB,YAAI,MAAI,CAAC7D,KAAL,CAAWK,SAAf,EAA0B;AAC1B,YAAMsD,SAAS,GAAG,MAAI,CAAC3D,KAAL,CAAWI,WAAX,KAA2B,CAA3B,GAA+B+C,KAAK,CAACS,MAAN,GAAe,CAA9C,GAAkD,MAAI,CAAC5D,KAAL,CAAWI,WAAX,GAAyB,CAA7F;;AACA,QAAA,MAAI,CAACgB,QAAL,CAAc;AACVhB,UAAAA,WAAW,EAAEuD;AADH,SAAd;AAGH,OAND;;AAQA,UAAMG,SAAS,GAAG,SAAZA,SAAY,CAACC,QAAD,EAAc;AAC5B,YAAI,MAAI,CAAC/D,KAAL,CAAWK,SAAf,EAA0B;;AAC1B,QAAA,MAAI,CAACe,QAAL,CAAc;AACVhB,UAAAA,WAAW,EAAE2D;AADH,SAAd;AAGH,OALD;;AAOA,UAAMC,MAAM,GAAGb,KAAK,CAACc,GAAN,CAAU,UAACC,IAAD,EAAU;AAC/B,eACI,MAAC,YAAD;AAAc,UAAA,SAAS,EAAC,aAAxB;AACI,UAAA,SAAS,EAAE;AAAA,mBAAM,MAAI,CAAC9C,QAAL,CAAc;AAACf,cAAAA,SAAS,EAAC;AAAX,aAAd,CAAN;AAAA,WADf;AAEI,UAAA,QAAQ,EAAE;AAAA,mBAAM,MAAI,CAACe,QAAL,CAAc;AAACf,cAAAA,SAAS,EAAC;AAAX,aAAd,CAAN;AAAA,WAFd;AAGI,UAAA,GAAG,EAAE6D,IAAI,CAACZ,GAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKI;AAAK,UAAA,KAAK,EAAE;AAACa,YAAAA,SAAS,EAAE;AAAZ,WAAZ;AAAkC,UAAA,GAAG,EAAED,IAAI,CAACZ,GAA5C;AAAiD,UAAA,GAAG,EAAEY,IAAI,CAACX,OAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UALJ,CADJ;AASH,OAVc,CAAf;AAYA,UAAMa,IAAI,GAAG,IAAIC,IAAJ,CAAS,KAAKrE,KAAL,CAAWM,IAAX,CAAgBgE,OAAzB,CAAb;AACA,UAAMC,OAAO,GAAG;AAAEC,QAAAA,IAAI,EAAE,SAAR;AAAmBC,QAAAA,KAAK,EAAE,MAA1B;AAAkCC,QAAAA,GAAG,EAAE,SAAvC;AAAkDC,QAAAA,IAAI,EAAE,SAAxD;AAAmEC,QAAAA,MAAM,EAAE;AAA3E,OAAhB;AACA,UAAMN,OAAO,GAAG,KAAKtE,KAAL,CAAWM,IAAX,CAAgBgE,OAAhB,KAA4B,CAA5B,GAAgC,GAAhC,GAAsCF,IAAI,CAACS,kBAAL,CAAwB,OAAxB,EAAiCN,OAAjC,CAAtD;AAEA,aACI,MAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,MAAb;AAAoB,QAAA,IAAI,EAAE,KAAKvE,KAAL,CAAWE,IAArC;AAA2C,QAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWC,QAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAoC,QAAA,KAAK,EAAE;AAAE6E,UAAAA,OAAO,EAAC,IAAV;AAAgBC,UAAAA,SAAS,EAAC,IAA1B;AAAgCC,UAAAA,SAAS,EAAE;AAA3C,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAM,KAAKhF,KAAL,CAAWM,IAAX,CAAgBkD,KAAtB,OAA8BP,SAAS,KAAK,KAAKjD,KAAL,CAAWM,IAAX,CAAgB2E,KAAhB,CAAsB/C,KAApC,GAC1B,MAAC,KAAD;AAAO,QAAA,SAAS,EAAC,MAAjB;AAAwB,QAAA,KAAK,EAAC,MAA9B;AAAqC,QAAA,IAAI,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAD0B,GACyC,EADvE,EAGI;AAAM,QAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,SAAD;AAAW,QAAA,IAAI,EAAE,KAAKlC,KAAL,CAAWM,IAAX,CAAgBgE,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAHJ,CADJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,EASI;AAAG,QAAA,KAAK,EAAE;AAACY,UAAAA,UAAU,EAAC,SAAZ;AAAuBC,UAAAA,QAAQ,EAAC,MAAhC;AAAwCC,UAAAA,YAAY,EAAC;AAArD,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKpF,KAAL,CAAWM,IAAX,CAAgB+E,WADrB,CATJ,EAYI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,QAAD;AACI,QAAA,WAAW,EAAE,KAAKrF,KAAL,CAAWI,WAD5B;AAEI,QAAA,IAAI,EAAEsD,IAFV;AAGI,QAAA,QAAQ,EAAEG,QAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKI,MAAC,kBAAD;AAAoB,QAAA,KAAK,EAAEV,KAA3B;AACoB,QAAA,WAAW,EAAE,KAAKnD,KAAL,CAAWI,WAD5C;AAEoB,QAAA,cAAc,EAAE0D,SAFpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,EAQKE,MARL,EASI,MAAC,eAAD;AAAiB,QAAA,SAAS,EAAC,MAA3B;AAAkC,QAAA,aAAa,EAAC,UAAhD;AAA2D,QAAA,cAAc,EAAEH,QAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATJ,EAUI,MAAC,eAAD;AAAiB,QAAA,SAAS,EAAC,MAA3B;AAAkC,QAAA,aAAa,EAAC,MAAhD;AAAuD,QAAA,cAAc,EAAEH,IAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVJ,CADJ,CADJ,EAeI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQ;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAFR,EAGKzD,QAAQ,GACL,KAAKD,KAAL,CAAWM,IAAX,CAAgB2E,KAAhB,CAAsB/C,KAAtB,KAAgC,KAAKlC,KAAL,CAAWE,IAAX,CAAgBgC,KAAhD,GAAwD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAxD,GAAgE,EAD3D,GAEH,EALV,EAOQ;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2B,MAAC,eAAD;AAAiB,QAAA,IAAI,EAAExD,UAAvB;AAAmC,QAAA,KAAK,EAAC,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA3B,OAA6E,KAAKsB,KAAL,CAAWQ,MAAX,CAAkBC,MAA/F,CAPR,EASQ,CAACR,QAAD,GACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAI,QAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,EAGI;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAEI,MAAC,IAAD;AAAM,QAAA,IAAI,EAAE,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,qBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,CAFJ,WAKI,MAAC,IAAD;AAAM,QAAA,IAAI,EAAE,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,CALJ,CAHJ,CADA,GAcE,KAAKD,KAAL,CAAWQ,MAAX,CAAkBE,MAAlB,KAA6B,KAAKV,KAAL,CAAWE,IAAX,CAAgBgC,KAA7C,GAEF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DAFJ,CAFE,GASF,KAAKlC,KAAL,CAAWM,IAAX,CAAgB2E,KAAhB,CAAsB/C,KAAtB,KAAgC,KAAKlC,KAAL,CAAWE,IAAX,CAAgBgC,KAAhD,GAEI,EAFJ,GAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAK,QAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,UAAD;AACI,QAAA,KAAK,EAAE;AAACoD,UAAAA,KAAK,EAAC,KAAP;AAAcC,UAAAA,UAAU,EAAC;AAAzB,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,MAAC,eAAD;AAAiB,QAAA,SAAS,EAAC,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CAFJ,EAKI,MAAC,KAAD;AAAO,QAAA,SAAS,EAAC,aAAjB;AACO,QAAA,MAAM,EAAC,IADd;AAEO,QAAA,IAAI,EAAC,QAFZ;AAGO,QAAA,IAAI,EAAC,QAHZ;AAIO,QAAA,IAAI,EAAC,KAJZ;AAKO,QAAA,KAAK,EAAE,KAAKvF,KAAL,CAAWG,GALzB;AAMO,QAAA,QAAQ,EAAE,KAAKY,iBANtB;AAOO,QAAA,SAAS,EAAE,KAAKE,aAPvB;AAQO,QAAA,WAAW,EAAC,YARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CADJ,EAgBI,MAAC,IAAD;AAAM,cAAI,KAAKjB,KAAL,CAAWW,WAAX,MAAV;AAAqC,QAAA,GAAG,EAAC,GAAzC;AAA6C,QAAA,SAAS,EAAC,kBAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKX,KAAL,CAAWW,WAAX,CAAuBC,OAD5B,CAhBJ,CADJ,EAsBI,MAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKC,YAAtB;AAAoC,QAAA,KAAK,EAAC,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAtBJ,CAFJ,CAFJ,CArCR,CAfJ,CAZJ,EAiGI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,eAAD;AAAiB,QAAA,IAAI,EAAElC,MAAvB;AAA+B,QAAA,KAAK,EAAC,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,OACiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADjD,EAEK,KAAKqB,KAAL,CAAWM,IAAX,CAAgB2E,KAAhB,CAAsBO,WAF3B,CADJ,EAKI;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,eAAD;AAAiB,QAAA,IAAI,EAAE5G,WAAvB;AAAoC,QAAA,KAAK,EAAC,IAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,OACsD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDADtD,EAEK,KAAKoB,KAAL,CAAWM,IAAX,CAAgB0B,UAFrB,WALJ,CADJ,EAWI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,eAAD;AAAiB,QAAA,IAAI,EAAEnD,OAAvB;AAAgC,QAAA,KAAK,EAAC,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,OACkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADlD,EAEK,KAAKmB,KAAL,CAAWM,IAAX,CAAgBuC,IAAhB,CAAqBe,MAF1B,CADJ,EAKI;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,eAAD;AAAiB,QAAA,IAAI,EAAE9E,UAAvB;AAAmC,QAAA,KAAK,EAAC,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,OACqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADrD,EAEK,KAAKkB,KAAL,CAAWM,IAAX,CAAgBN,KAFrB,CALJ,CAXJ,EAqBI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,eAAD;AAAiB,QAAA,IAAI,EAAEjB,aAAvB;AAAsC,QAAA,KAAK,EAAC,IAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,OACwD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADxD,EAEKuF,OAFL,CADJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,eAAD;AAAiB,QAAA,IAAI,EAAEtF,cAAvB;AAAuC,QAAA,KAAK,EAAC,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,OACyD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADzD,EAEK,KAAKgB,KAAL,CAAWM,IAAX,CAAgBmF,IAFrB,QAE6B,KAAKzF,KAAL,CAAWM,IAAX,CAAgBoF,QAF7C,CALJ,CArBJ,CAjGJ,CADJ,CADJ;AAsIH;;;;EAlUuBC,KAAK,CAACC,S;;AAqUlChG,aAAa,CAACiG,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAgC,iBAAeC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAErB3E,YAAAA,EAFqB,GAEf2E,OAAO,CAACC,KAFO,CAErB5E,EAFqB;AAItBrB,YAAAA,KAJsB,GAIdX,QAAQ,CAAC2G,OAAD,CAJM;AAAA,6CAMrB;AAAC3E,cAAAA,EAAE,EAAFA,EAAD;AAAKrB,cAAAA,KAAK,EAALA;AAAL,aANqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhC;;AAAA;AAAA;AAAA;AAAA;;AAUA,eAAeF,aAAf","sourcesContent":["import Layout from '../../components/AppLayout';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText, Badge, Alert, Fade } from 'reactstrap';\nimport {Carousel, CarouselItem, CarouselControl, CarouselIndicators, CarouselCaption} from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faLiraSign, faUser, faMoneyBill, faUsers, faThumbsUp, faCalendarAlt, faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons'\nimport Link from \"next/link\";\nimport axios from \"axios\";\nimport { getToken } from '../../utils/auth'\nimport Router from 'next/router'\nimport Countdown from 'react-countdown-now';\n\n\nconst apiConfig = require('../../api-config');\nconst defaults = require('../../utils/defaults');\n\nimport socketIOClient from 'socket.io-client';\nconst socket = socketIOClient(apiConfig.serverUrl);\n\nclass AuctionDetail extends React.Component{\n    constructor(props) {\n        super(props);\n        var token = this.props.token;\n        this.getUser(token);\n\n        this.state = {\n            loggedIn: token ? true : false,\n            user: {},\n            bid: \"\",\n            activeIndex: 0,\n            animating: false,\n            sale: defaults.defaultSale,\n            maxBid:{\n                amount: null,\n                bidder: \"\"\n            },\n            biddingFade: {\n                message: \"\",\n                in: false\n            }\n        };\n        this.handleNewBid = this.handleNewBid.bind(this);\n        this.handleInputChange  = this.handleInputChange.bind(this);\n        this.getSale = this.getSale.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n    }\n    componentDidMount(){\n        const saleId = this.props.id;\n        this.getSale(saleId);\n        this.setState({bid: \"\"});\n        socket.on('bid update', (msg) => {\n            if(msg.saleId === saleId){\n                this.getSale(saleId);\n            }\n        });\n    }\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value,\n        });\n    }\n    handleKeyDown(event) {\n        console.log(event.key);\n        if (event.key === 'Enter') {\n            this.handleNewBid();\n            this.getSale(this.state.sale._id);\n        }\n    }\n    handleNewBid(){\n        console.log(this.state.bid );\n        if (this.state.bid === \"\"){\n            this.showFade(\"Önce teklifinizi girin.\");\n            return;\n        }\n        if (this.state.bid < this.state.sale.firstPrice){\n            this.showFade(\"Başlangıç fiyatından düşük teklif veremezsiniz. (\" + this.state.sale.firstPrice + \"₺)\");\n            this.setState({\n                bid: \"\"\n            });\n            return;\n        }\n        if (this.state.bid < this.state.maxBid.amount){\n            this.showFade(\"En yüksek tekliften düşük teklif veremezsiniz. (\" + this.state.maxBid.amount + \"₺)\");\n            return;\n        }\n        if (this.state.bid == this.state.maxBid.amount){\n            this.showFade(this.state.bid + \"₺ en yüksek teklif, aynı teklifi vermezsiniz.\");\n            return;\n        }\n\n        socket.emit('new bid', {\n            saleId: this.state.sale._id,\n            bid: {\n                amount: parseInt(this.state.bid),\n                bidder: this.state.user.email\n            }\n        });\n    }\n    showFade(message){\n\n        this.setState({biddingFade: {\n                message: message,\n                in: true\n            }});\n\n        setInterval(() => {\n            this.setState({\n                biddingFade: {\n                    message:\"\",\n                    in:false\n                }\n            });\n        },60000);\n\n    }\n    getUser(token){\n        const url = apiConfig.serverUrl + '/user/get';\n        axios.post(url, {}, {\n            headers:{\n                authorization: token\n            }})\n            .then((response) => {\n                this.setState({\n                    user: response.data.user\n                });\n            })\n            .catch(function (error) {\n                console.log(error);\n            }.bind(this));\n    }\n    getSale(id){\n        const url = apiConfig.serverUrl + '/sale/' + id;\n        axios.get(url)\n            .then((response) => {\n                var maxBid = response.data.sale.bids.reduce((a, b) => {\n                    return a.amount > b.amount ? a : b;\n                });\n                this.setState({\n                    sale: response.data.sale,\n                    maxBid: maxBid\n                });\n            })\n            .catch((error) => {\n                console.log(error);\n                //if(!error.response) Router.push('/index');\n                //if(error.response.status === 404) Router.push('/index');\n            })\n    }\n    render() {\n        var loggedIn = this.state.loggedIn;\n        const userEmail = this.state.user ? this.state.user.email : \"\";\n\n        const images = this.state.sale.images;\n        const items = [];\n\n        var i;\n        for(i in images){\n            items.push({\n                src: apiConfig.serverUrl + '/images/products/' + images[i],\n                altText: this.state.sale.title,\n                caption: this.state.sale.title\n            });\n        }\n\n        const next = () => {\n            if (this.state.animating) return;\n            const nextIndex = this.state.activeIndex === items.length - 1 ? 0 : this.state.activeIndex + 1;\n            this.setState({\n                activeIndex: nextIndex\n            });\n        };\n\n        const previous = () => {\n            if (this.state.animating) return;\n            const nextIndex = this.state.activeIndex === 0 ? items.length - 1 : this.state.activeIndex - 1;\n            this.setState({\n                activeIndex: nextIndex\n            });\n        };\n\n        const goToIndex = (newIndex) => {\n            if (this.state.animating) return;\n            this.setState({\n                activeIndex: newIndex\n            });\n        };\n\n        const slides = items.map((item) => {\n            return (\n                <CarouselItem className=\"text-center\"\n                    onExiting={() => this.setState({animating:true})}\n                    onExited={() => this.setState({animating:false})}\n                    key={item.src}\n                >\n                    <img style={{maxHeight: '300px'}} src={item.src} alt={item.altText} />\n                </CarouselItem>\n            );\n        });\n\n        const date = new Date(this.state.sale.endDate);\n        const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };\n        const endDate = this.state.sale.endDate === 0 ? \"-\" : date.toLocaleDateString('tr-TR', options);\n\n        return (\n            <Layout page=\"home\" user={this.state.user} loggedIn={this.state.loggedIn}>\n                <div className=\"container bg-white\" style={{ padding:'3%', marginTop:'3%', boxShadow: '0px 10px 5px 0px #ccc'}} >\n                    <h2> {this.state.sale.title} {userEmail === this.state.sale.owner.email ?\n                        <Badge className=\"ml-2\" color=\"dark\" pill>Sizin ilanınız</Badge> : \"\"\n                    }\n                        <span className=\"float-right\">\n                            <Countdown date={this.state.sale.endDate} />\n                        </span>\n                    </h2>\n                    <hr/>\n                    <p style={{fontFamily:'verdana', fontSize:'17px', marginBottom:'50px'}}>\n                        {this.state.sale.description}\n                    </p>\n                    <div className=\"row\">\n                        <div className=\"col-md-8\">\n                            <Carousel\n                                activeIndex={this.state.activeIndex}\n                                next={next}\n                                previous={previous}\n                            >\n                                <CarouselIndicators items={items}\n                                                    activeIndex={this.state.activeIndex}\n                                                    onClickHandler={goToIndex} />\n                                {slides}\n                                <CarouselControl direction=\"prev\" directionText=\"Previous\" onClickHandler={previous} />\n                                <CarouselControl direction=\"next\" directionText=\"Next\" onClickHandler={next} />\n                            </Carousel>\n                        </div>\n                        <div className=\"col-md-4 pt-4\">\n\n                                <h4  className=\"text-center\">En Yüksek Teklif</h4>\n                            {loggedIn ?\n                                this.state.sale.owner.email === this.state.user.email ? <hr/> : \"\"\n                                : \"\"\n                            }\n                                <p className=\"text-center\"><FontAwesomeIcon icon={faLiraSign} width=\"16\" /> {this.state.maxBid.amount}</p>\n                            {\n                                !loggedIn  ?\n                                <div>\n                                    <hr/>\n                                    <h5 className=\"text-center mb-3\">Teklif Ver</h5>\n                                    <p className=\"text-center\">\n                                        Teklif vermek için\n                                        <Link href={'/registration'} >\n                                            <a className=\"text-dark underline\"> kayıt olun</a>\n                                        </Link> veya\n                                        <Link href={'/login'} >\n                                            <a className=\"text-dark\"> giriş yapın</a>\n                                        </Link>\n                                    </p>\n                                </div>\n                                : this.state.maxBid.bidder === this.state.user.email ?\n\n                                <div>\n                                    <hr/>\n                                    <p>Şu anda en yüksek teklif sizin teklifiniz.</p>\n                                </div>\n\n                                :\n\n                                this.state.sale.owner.email === this.state.user.email ?\n\n                                    \"\"\n\n                                :\n                                <div>\n                                    <hr/>\n                                    <div className=\"text-center justify-content-md-center\">\n                                        <h5 className=\"text-center mb-3\">Teklif Ver</h5>\n                                        <Form>\n                                            <FormGroup>\n                                                <InputGroup\n                                                    style={{width:'60%', marginLeft:'20%'}} >\n                                                    <InputGroupAddon addonType=\"prepend\">\n                                                        <InputGroupText>₺</InputGroupText>\n                                                    </InputGroupAddon>\n                                                    <Input className=\"text-center\"\n                                                           bgSize=\"sm\"\n                                                           type=\"number\"\n                                                           form=\"nanana\"\n                                                           name=\"bid\"\n                                                           value={this.state.bid}\n                                                           onChange={this.handleInputChange}\n                                                           onKeyDown={this.handleKeyDown}\n                                                           placeholder=\"Teklifiniz\"/>\n                                                </InputGroup>\n                                                <Fade in={this.state.biddingFade.in} tag=\"p\" className=\"mt-3 text-danger\">\n                                                    {this.state.biddingFade.message}\n                                                </Fade>\n\n                                            </FormGroup>\n                                            <Button onClick={this.handleNewBid} color=\"dark\">Gönder</Button>\n                                        </Form>\n                                    </div>\n                                </div>\n                            }\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-md-4\">\n                            <p className=\"mb-4 mt-4\">\n                                <FontAwesomeIcon icon={faUser} width=\"16\" /> <b>Satıcı: </b>\n                                {this.state.sale.owner.nameSurname}\n                            </p>\n                            <p className=\"mb-4\">\n                                <FontAwesomeIcon icon={faMoneyBill} width=\"16\" /> <b>Başlangıç Fiyatı: </b>\n                                {this.state.sale.firstPrice}₺\n                            </p>\n                        </div>\n                        <div className=\"col-md-4\">\n                            <p className=\"mb-4 mt-4\">\n                                <FontAwesomeIcon icon={faUsers} width=\"16\" /> <b>Teklif sayısı: </b>\n                                {this.state.sale.bids.length}\n                            </p>\n                            <p className=\"mb-4\">\n                                <FontAwesomeIcon icon={faThumbsUp} width=\"16\" /> <b>Durum: </b>\n                                {this.state.sale.state}\n                            </p>\n                        </div>\n                        <div className=\"col-md-4\">\n                            <p className=\"mb-4 mt-4\">\n                                <FontAwesomeIcon icon={faCalendarAlt} width=\"16\" /> <b>Kapanış: </b>\n                                {endDate}\n                            </p>\n                            <p>\n                                <FontAwesomeIcon icon={faMapMarkerAlt} width=\"16\" /> <b>Konum: </b>\n                                {this.state.sale.city}, {this.state.sale.district}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </Layout>\n        );\n    }\n}\n\nAuctionDetail.getInitialProps = async function(context) {\n\n    const {id} = context.query;\n\n    const token = getToken(context);\n\n    return {id, token};\n\n};\n\nexport default AuctionDetail;"]},"metadata":{},"sourceType":"module"}