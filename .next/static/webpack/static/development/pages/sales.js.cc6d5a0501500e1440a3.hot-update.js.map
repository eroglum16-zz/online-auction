{"version":3,"file":"static/webpack/static/development/pages/sales.js.cc6d5a0501500e1440a3.hot-update.js","sources":["webpack:///./pages/sales.js","webpack:///./utils/auth.js"],"sourcesContent":["import Layout from \"../components/AppLayout\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport SaleRow from \"../components/SaleRow\";\nimport {Badge} from \"reactstrap\";\nimport {auth} from \"../utils/auth\"\n\nclass Sales extends React.Component{\n    constructor(props) {\n        super(props);\n\n    }\n\n    render() {\n        return (\n            <Layout>\n                <div className=\"container bg-white\" style={{ padding:'3%', marginTop:'3%'}}>\n                    <h2> Sattığınız Ürünler <Badge className=\"ml-2\" color=\"dark\" pill>2</Badge> </h2>\n                    <hr/>\n                    <SaleRow image=\"/cleaner.jpg\"\n                             type=\"s\"\n                             name=\"Akıllı Süpürge\"\n                             description=\"Son teknoloji yapay zeka ev süpürgesi. Sizin yerinize kirleri tespit edip süpürür.\" />\n\n                    <SaleRow image=\"/apple-watch.jpeg\"\n                             type=\"s\" name=\"Apple Watch\"\n                             description=\"İlk testlerini Steve Jobs'ın yaptığı ve bir süre kullandığı orijinal Apple Watch.\" />\n                </div>\n            </Layout>\n        );\n    }\n}\n\nSales.getInitialProps = async ctx => {\n    // Check user's session\n    const token = auth(ctx);\n\n    return { token }\n};\n\nexport default Sales;","import Router from 'next/router'\nimport nextCookie from 'next-cookies'\nimport cookie from '../node_modules/js-cookie'\n\nexport const login = ({ token }) => {\n    cookie.set('token', token, { expires: 1 })\n    Router.push('/index')\n};\n\nexport const auth = ctx => {\n    const { token } = nextCookie(ctx);\n\n    if (ctx.req && !token) {\n        ctx.res.writeHead(302, { Location: '/login' });\n        ctx.res.end();\n        return\n    }\n\n    if (!token) {\n        Router.push('/login')\n    }\n\n    return token\n};\n\nexport const guest = ctx => {\n    const { token } = nextCookie(ctx);\n\n    if (ctx.req && token) {\n        ctx.res.writeHead(302, { Location: '/index' });\n        ctx.res.end();\n        return\n    }\n\n    if (token) {\n        Router.push('/index')\n    }\n\n    return;\n};\n\nexport const getToken = ctx => {\n    const { token } = nextCookie(ctx);\n\n    return token\n};\n\nexport const getUser = token => {\n\n};\n\nexport const logout = () => {\n    cookie.remove('token')\n    // to support logging out from all windows\n    window.localStorage.setItem('logout', Date.now())\n    Router.push('/login')\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AAGA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AAvBA;AACA;AAyBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAMA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvCA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AAIA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}