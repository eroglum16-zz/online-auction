{"version":3,"file":"static/webpack/static/development/pages/index.js.2fcf7eda62a282134750.hot-update.js","sources":["webpack:///./components/ItemCard.js","webpack:///./pages/index.js"],"sourcesContent":["import {Button, Card, CardBody, CardImg, CardSubtitle, CardTitle} from \"reactstrap\";\nimport Link from \"next/link\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {faMapMarkerAlt} from '@fortawesome/free-solid-svg-icons'\nconst apiConfig = require('../api-config');\n\nclass ItemCard extends React.Component{\n    render() {\n        return (\n            <div className=\"col-md-3 mb-5\">\n                        <Card style={{boxShadow: '0px 10px 5px 0px #ccc'}}>\n                            <Link href={'/a/[id]'} as={`/a/1`} >\n                                <a style={{color:'inherit', textDecoration:'none'}}>\n                                    <CardImg top width=\"100%\"\n                                             src={apiConfig.serverUrl + '/images/products/' + this.props.image}\n                                             alt=\"Card image cap\" />\n                                </a>\n                            </Link>\n                            <CardBody>\n                                <Link href={'/a/[id]'} as={`/a/1`} >\n                                    <a style={{color:'inherit', textDecoration:'none'}}>\n                                        <CardTitle style={{fontWeight:'bold'}}> {this.props.sale.title} </CardTitle>\n                                    </a>\n                                </Link>\n                                <CardSubtitle style={{fontSize:'14px'}} className=\"text-muted\"> {this.props.sale.owner.nameSurname} </CardSubtitle>\n                                <hr/>\n                                <span style={{fontSize:'16px'}}>\n                                    <FontAwesomeIcon icon={faMapMarkerAlt} width=\"16\" /> {this.props.city}, {this.props.district}\n                                </span>\n                                <style jsx>{`\n                    h1,\n                    a {\n                      font-family: 'Arial';\n                    }\n                    \n                    ul {\n                      padding: 0;\n                    }\n            \n                    li {\n                      list-style: none;\n                      margin: 5px 0;\n                    }\n            \n                    a {\n                      text-decoration: none;\n                      color: #333;\n                    }\n          \n                  `}</style>\n                            </CardBody>\n                        </Card>\n            </div>\n        );\n    }\n}\n\nexport default ItemCard;","import Layout from \"../components/AppLayout\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport ItemCard from \"../components/ItemCard\";\nimport { getToken } from '../utils/auth'\nimport axios from \"axios\";\nconst apiConfig = require('../api-config');\n\nclass Index extends React.Component{\n    constructor(props) {\n        super(props);\n        var token = this.props.token;\n        this.getUser(token);\n        this.getActiveSales();\n        this.state = {\n            loggedIn: token ? true : false,\n            user: {},\n            sales: []\n        }\n    }\n\n    getUser(token){\n        const url = apiConfig.serverUrl + '/user/get';\n        axios.post(url, {}, {\n            headers:{\n                authorization: token\n            }})\n            .then((response) => {\n                this.setState({\n                    user: response.data.user\n                });\n            })\n            .catch(function (error) {\n                console.log(error);\n            }.bind(this));\n    }\n    getActiveSales(){\n        const url = apiConfig.serverUrl + '/sales/active';\n        axios.get(url)\n            .then((response) => {\n                this.setState({\n                    sales: response.data.sales\n                });\n            }).catch((error) => {\n                console.log(error);\n            });\n    }\n\n    render() {\n        console.log(this.state.sales);\n        const sales = this.state.sales.map((sale) =>\n            <ItemCard sale={sale}\n                      title={sale.title}\n                      owner={{nameSurname: sale.owner.nameSurname}}\n                      city={sale.city}\n                      district={sale.district}\n                      image={sale.images[0]}/>\n                      );\n        return (\n            <Layout page=\"home\" user={this.state.user} loggedIn={this.state.loggedIn}>\n                <div className=\"container bg-white\" style={{ padding:'3%', marginTop:'3%'}}>\n                    <h2> Online Açık Arttırma Uygulaması</h2>\n                    <hr/>\n                    <p style={{fontFamily:'verdana', fontSize:'17px', marginBottom:'50px'}}>\n                        Ürünlerinizi platformumuzda açık arttırmaya sunabilir, veya aktif açık arttırmalara\n                        katılarak değerli ürünleri alma fırsatı yakalayabilirsiniz. Aşağıdaki ürünlerden ilginizi çekeni seçerek\n                        satışa giderseniz teklifte bulunabilirsiniz.\n                    </p>\n                    <hr></hr>\n                    <div className=\"row\">\n                        {sales}\n                    </div>\n                </div>\n            </Layout>\n        );\n    }\n}\n\nIndex.getInitialProps = async ctx => {\n    // Check user's session\n    const token = getToken(ctx);\n\n    return { token }\n};\n\nexport default Index;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;AAAA;AAAA;AAoCA;;;;AAhDA;AACA;AAkDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAHA;AALA;AAUA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AADA;AAGA;AAEA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AAnEA;AACA;AAqEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAMA;;;;A","sourceRoot":""}